@page
@inject Microsoft.Extensions.Options.IOptions<Intwenty.Model.IntwentySettings> Settings
@model LanguageModel
@{
    ViewData["Title"] = "Manage Language";
    ViewData["ActivePage"] = ManageNavPages.Language;
}

<h4>@ViewData["Title"]</h4>
<partial name="_StatusMessage" model="Model.StatusMessage" />
<div class="row">
    <div class="col-md-6">
        <form id="language-form" method="post">
            <div asp-validation-summary="All" class="text-danger"></div>

            <div class="form-group">
                <label asp-for="Input.NewLanguage"></label>

                <select asp-for="Input.NewLanguage" class="form-control">
                    @{
                        foreach (var t in Settings.Value.SupportedLanguages)
                        {
                            <option value="@t.Culture">@t.Name</option>
                        }
                    }
                </select>


            </div>
            <button id="change-language-button" type="submit" asp-page-handler="ChangeLanguage" class="btn btn-primary">Set Language</button>
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
